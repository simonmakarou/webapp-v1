# Маршрут миграции на Vite + React + TypeScript + Tailwind

## 0. Подготовительный этап
- [ ] Создать ветку `migration/phase-1` от `main`.
- [ ] Зафиксировать текущее состояние `legacy-index.html` как эталон поведения (скриншоты ключевых экранов, экспорт mock-данных).
- [ ] Согласовать, какие фичи из legacy попадают в MVP новой версии.

## 1. Бутстрап инфраструктуры (PR #1)
**Цель:** получить рабочий Vite-проект с базовой стилизацией и скриптами.
- [x] Инициализировать шаблон `react-ts` и перенести общие стили в Tailwind.
- [x] Подключить шрифт Inter, настроить алиасы `@/*`, `base` для GitHub Pages.
- [x] Обновить README с инструкциями запуска.

## 2. Перенос данных и утилит (PR #2)
**Цель:** перевести бизнес-логику из legacy в типизированные модули.
- [ ] Создать каталоги `src/data` и `src/utils`, задокументировать структуру в README.
- [ ] Вынести helpers `LS`, `uuid4`, генераторы seed/рандома, нормализацию данных.
- [ ] Типизировать доменные сущности (`Exercise`, `PlanEntry`, `Profile`, `GeneratorContext`).
- [ ] Разделить статические данные (`exercises`, `themes`, `goalConfig`, `translations`).
- [ ] Добавить Vitest и тесты для ключевых утилит (`packByMinutes`, `rankAlternatives`, `sanitizePlanStore`).

## 3. Компонентизация UI (PR #3)
**Цель:** перенести визуальные компоненты и состояние в новую архитектуру.
- [ ] Создать `src/main.tsx`, `src/App.tsx` с минимальным каркасом приложения.
- [ ] Разнести фичи по каталогам `src/features/*`, `src/components/common`, `src/providers`.
- [ ] Реализовать `TimerProvider`, `usePlanStore`, `useProfile`, `useHistory`.
- [ ] Перенести UI-компоненты (layout, onboarding, генератор плана, таймер, история).
- [ ] Добавить smoke-тест RTL, подтверждающий рендер ключевых экранов.

## 4. Инструменты качества и тестирование (PR #4)
**Цель:** обеспечить автоматическую проверку кода и UI.
- [ ] Расширить ESLint (`react`, `jsx-a11y`, `testing-library`, `playwright`) и добавить Prettier.
- [ ] Сконфигурировать Vitest (`jsdom`), `setupTests.ts`, покрыть компоненты тестами.
- [ ] Подключить Playwright, написать базовые e2e сценарии и npm-скрипты.
- [ ] Настроить отчёты покрытия и артефакты Playwright.

## 5. Документация и деплой (PR #5)
**Цель:** автоматизировать выкладку и описать процессы.
- [ ] Уточнить `vite.config.ts` (`base`, относительные пути, env-переменные).
- [ ] Настроить GitHub Actions для Pages (build, lint, unit, e2e).
- [ ] Добавить `npm run deploy` (gh-pages) и описать ручной деплой.
- [ ] Обновить README (структура каталогов, команды, чек-листы QA).
- [ ] Провести smoke-тест `dist` на Pages и задокументировать вывод.

## 6. Дополнительные улучшения (после основных PR)
- [ ] Настроить `lint-staged` + Husky для pre-commit хуков.
- [ ] Добавить Storybook или Ladle для каталогизации компонентов (по необходимости).
- [ ] Проработать i18n (если требуется мультиязычность).
- [ ] Спланировать дальнейшее покрытие тестами (перфоманс, accessibility).

## Трекинг прогресса
- Поддерживайте чек-лист актуальным, отмечайте выполненные задачи.
- Для каждого PR фиксируйте acceptance criteria и тесты в описании.
- В PR добавляйте ссылку на соответствующую секцию этого маршрута.
